<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>定时器</title>
</head>
<body>
<button>开启定时器</button>
<script>

    document.querySelector("button").addEventListener("click", () => {
        console.log("开启立即执行定时器")
        let num = 0
        const task=()=>{
            console.log("ajax请求")
            console.log("num", num++)
            if (num === 5) {
                console.log("取消定时器")
                clearInterval(timer)
            }
            return task
        }
        const timer = setInterval(task(), 1000)

    })
</script>
</body>
</html>