# browserRouter的设置

browserRouter利于SEO但是需要在服务器进行额外的设置才不会出现404

nginx：

```
location / {
  try_files $uri $uri/ /index.html;
}
```

# nginx实现跨域
1. 配置nginx
    
    ```
        server {
            listen       n;
            server_name  localhost;
            location  / {
                add_header Access-Control-Allow-Origin 'http://localhost:1010' always; # 前端服务地址
                add_header Access-Control-Allow-Headers '*';
                add_header Access-Control-Allow-Methods '*';
                add_header Access-Control-Allow-Credentials 'true'; # 允许携带cookie
                if ($request_method = 'OPTIONS') { # 复杂请求放行options预检请求
                    return 204;
                }
                proxy_pass  http://xxx.xxx.xxx.xxx:8088; # 后端服务地址 
            }		    
        }
    ```
2. axois baseUrl从后端服务地址改为nginx服务地址(e.g. http://xxx.xxx.xxx.xxx:n)，由nginx实现代理请求

